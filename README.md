# 比赛选手人员分配系统 (Next.js 版本)
一个基于 Next.js 框架构建的直观且交互性强的比赛选手人员分配系统，支持拖拽操作、实时统计和羁绊关系显示。

## 功能特性

### 👤 选手管理
- **新增选手**：完整的选手信息录入表单
- **信息完善**：昵称、游戏ID、群昵称、天梯分数、擅长位置、英雄池等
- **英雄选择**：支持搜索英雄名称和别称，可视化选择
- **默契关系**：可选择多个默契选手，支持搜索和关联匹配
- **实时预览**：天梯分数颜色等级实时显示

### 🏆 队伍管理
- 动态添加/删除队伍
- 每个队伍最多包含5名选手（符合规范）
- 每个队伍显示实时天梯分数统计
- 羁绊关系自动检测和标识
- 队伍卡片响应式布局

### 👥 选手分配
- **拖拽操作**：直接拖拽选手卡片到目标队伍
- **点击添加**：通过对话框搜索和选择选手
- **移除功能**：一键移除队员回到未分配池
- **实时更新**：队伍分数和羁绊状态动态刷新

### 🔍 搜索筛选
- 支持选手昵称、游戏ID、群昵称搜索
- 擅长位置筛选（优势路、中单、劣势路、半辅助、纯辅助、全才）
- 擅长英雄名称搜索
- 羁绊选手关联显示

### 📊 数据展示
- 选手详细信息卡片：
  - 昵称、游戏ID、群昵称
  - 天梯分数（颜色等级标识）
  - 擅长位置标签
  - 擅长英雄列表（在卡片底部显示）
  - 最近胜率
  - 冠军数量
  - 默契选手列表（在卡片底部显示）

### 💾 数据管理
- 重置分配功能
- 保存配置到JSON文件
- 导入已有配置
- 自动保存时间戳

## 技术架构

### 前端框架
- **Next.js v16.0.3**：React 框架，支持服务端渲染
- **React v19.2.0**：用于构建用户界面
- **CSS3**：自定义样式和动画效果

### 项目结构
```
next-team-assignment/
├── pages/             # Next.js 页面路由
│   ├── index.js       # 主页面
│   ├── _app.js        # 全局应用组件
│   └── api/           # API 路由
├── components/        # React 组件
│   ├── PlayerCard.js  # 选手卡片组件
│   └── TeamCard.js    # 队伍卡片组件
├── styles/            # 样式文件
│   └── globals.css    # 全局样式
├── data/              # 数据目录
│   └── heroeslist.json # 英雄列表
├── public/            # 静态资源
├── package.json       # 项目依赖和脚本
└── README.md          # 说明文档
```

## 使用方法

### 1. 安装依赖
```bash
npm install
```

### 2. 开发模式运行
```bash
npm run dev
```
在浏览器中打开 http://localhost:3000 查看应用

### 3. 构建生产版本
```bash
npm run build
```

### 4. 启动生产服务器
```bash
npm start
```

## 功能操作说明

### 新增选手
- 点击"+ 新增选手"按钮打开录入表单
- 填写基本信息：昵称、游戏ID、群昵称
- 设置天梯分数（实时显示颜色等级）
- 选择擅长位置（可多选）
- 点击"选择英雄"从英雄列表中选择擅长英雄
- 点击"添加默契选手"选择相关选手
- 设置胜率和冠军数量
- 点击"创建选手"完成添加

### 添加队伍
- 点击"+ 添加队伍"按钮创建新队伍
- 系统会自动分配队伍ID
- 每个队伍最多可容纳5名选手

### 分配选手
**方法一：拖拽操作**
- 在未分配选手池中找到目标选手
- 点击并拖拽选手卡片
- 拖到目标队伍容器内松开

**方法二：点击添加**
- 点击队伍底部的"+ 添加选手"按钮
- 在弹出对话框中搜索或浏览选手
- 点击选手卡片完成分配

### 删除队伍
- 点击队伍底部的"删除队伍"按钮
- 队伍中的所有选手将自动返回到未分配选手池
- 队伍将从系统中移除

### 移除选手
- 将鼠标悬停在队伍中的选手卡片上
- 点击右上角的"×"按钮
- 选手将自动返回未分配选手池

### 搜索筛选
- 在搜索框输入关键词（支持昵称、ID、位置、英雄）
- 勾选位置标签进行筛选
- 系统实时显示匹配结果

### 数据管理
- **重置分配**：清空所有队伍分配，选手回到未分配池
- **保存配置**：导出当前分配状态为JSON文件
- **导入数据**：加载之前保存的配置文件

## 部署说明

### 部署到 Vercel (推荐)
1. 将代码推送到 GitHub/GitLab
2. 在 Vercel 中导入项目
3. Vercel 会自动检测 Next.js 项目并配置部署

### 部署到其他 Node.js 服务器
1. 构建项目：`npm run build`
2. 启动生产服务器：`npm start`
3. 配置反向代理将请求转发到 3000 端口

### 使用宝塔面板部署
1. 在宝塔中创建 Node.js 项目
2. 上传代码或通过 Git 拉取
3. 安装依赖：`npm install`
4. 构建项目：`npm run build`
5. 启动服务：`npm start`
6. 配置反向代理

## 数据结构

### 选手数据格式
```json
{
  "id": "1",
  "nickname": "选手昵称",
  "game_id": "游戏ID",
  "group_nickname": "群昵称",
  "score": 15000,
  "positions": ["优势路", "中单"],
  "heroes": ["英雄名称1", "英雄名称2"],
  "win_rate": 50,
  "championships": 3,
  "synergy_players": ["默契选手1", "默契选手2"]
}
```

### 队伍数据格式
```json
{
  "id": 1,
  "name": "队伍1",
  "players": [选手对象数组],
  "created_at": "2025-11-13T17:40:42.810172+08:00",
  "updated_at": "2025-11-13T17:40:42.810172+08:00"
}
```

## 视觉设计

### 配色方案
- **主色调**：深色电竞风格主题
- **强调色**：蓝色渐变用于重要操作
- **次要色**：灰色用于次要信息
- **警告色**：红色用于删除操作

### 响应式设计
- 桌面端：最多4列队伍布局
- 平板端：2列队伍布局  
- 手机端：单列布局
- 自适应卡片大小

### 交互反馈
- 悬停效果和过渡动画
- 拖拽时的视觉提示
- 按钮点击反馈
- 模态框背景模糊

## 浏览器兼容性

- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 更新日志

### v2.0.0 (2025-11-16)
- 从纯 HTML/CSS/JS 重构为 Next.js 应用
- 实现完整的 React 组件化架构
- 添加服务端渲染支持
- 完善状态管理逻辑
- 优化用户体验和界面交互

### v1.0.0 (2025-11-14)
- 初始版本发布
- 实现基础队伍管理功能
- 支持选手拖拽分配
- 添加搜索筛选功能
- 实现数据导入导出
